# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AccessTokenObject {
  access_token: String
  id: String
  name: String
}

type Category {
  createdAt: DateTime!
  id: String!
  name: String!
  products: [Product!]
  updatedAt: DateTime!
  user: User!
}

input CreateCategoryInput {
  name: String!
  productIds: [String!]
}

input CreateOrderInput {
  items: [CreateOrderItemInput!]!
  tableId: String!
}

input CreateOrderItemInput {
  productId: String!
  quantity: Int!
}

input CreateProductInput {
  available: Boolean! = true
  name: String!
  price: Float!
}

input CreateTableInput {
  capacity: Float!
  isOccupied: Boolean! = false
  number: String!
}

input CreateUserInput {
  displayName: String
  password: String!
  role: String! = "utilisateur"
  username: String!
}

type CurrentUserResponse {
  status: Int!
  success: AccessTokenObject!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type LoginResponse {
  access_token: String
  name: String
}

input LoginUserInput {
  password: String!
  username: String!
}

type Mutation {
  createCategory(createCategoryInput: CreateCategoryInput!): Category!
  createOrder(createOrderInput: CreateOrderInput!): Order!
  createProduct(createProductInput: CreateProductInput!): Product!
  createTable(createTableInput: CreateTableInput!): UserResponse!
  createUser(createUserInput: CreateUserInput!): UserResponse!
  login(loginUserInput: LoginUserInput!): LoginResponse!
  logout: LoginResponse!
  removeCategory(id: String!): UserResponse!
  removeProduct(id: String!): UserResponse!
  removeUser(id: String!): UserResponse!
  updateDisponibilityOfTable(id: String!): UserResponse!
}

type Order {
  createdAt: DateTime!
  deliveredAt: DateTime
  id: String!
  items: [OrderItem!]!
  readyAt: DateTime
  startedAt: String
  status: String!
  table: Table!
  totalAmount: Float
  updatedAt: DateTime!
  user: User!
}

type OrderItem {
  createdAt: DateTime!
  expectedTime: Float!
  id: String!
  order: Order!
  price: Float!
  product: Product!
  quantity: Float!
  updatedAt: DateTime!
}

type Product {
  available: Boolean!
  category: Category!
  createdAt: DateTime!
  id: String!
  name: String!
  orderItems: [OrderItem!]
  preparationTime: Float!
  price: Float!
  updatedAt: DateTime!
  user: User!
}

type Query {
  current: CurrentUserResponse!
  findAllOrders: [Order!]!
  findAllProducts: [Product!]!
  findAllProductsByCategory(categoryName: String!): [Product!]!
  findAllTables: [Table!]!
  findOneProductById(id: String!): Product!
  getAllUsers: [User!]!
  getUserById(id: String!): User!
  getUserByUsername(username: String!): User!
}

type Table {
  capacity: Float!
  createdAt: DateTime!
  id: String!
  isOccupied: Boolean
  number: String!
  orders: [Order!]
  updatedAt: DateTime!
}

type User {
  categories: [Category!]
  createdAt: DateTime!
  displayName: String!
  id: String!
  orders: [Order!]
  products: [Product!]
  role: String!
  updatedAt: DateTime!
  username: String!
}

type UserResponse {
  message: String!
  statusCode: Int!
}